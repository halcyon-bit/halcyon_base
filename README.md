# 说明

将之前学习 C++11 时，学到的基于 C++11 的功能库整理出来，并使用 C++17 进行相应的调整，以源文件或库的形式提供。

## 版本

### 1.0.3

- 增加 utility

## 功能

### common

| 模块          | 说明            |
| ------------- | --------------- |
| noncopyable.h | 对象语义        |
| platform.h    | 判断平台        |
| base_define.h | base 模块的定义 |

### any

| 模块  | 说明                                 |
| ----- | ------------------------------------ |
| any.h | 将任意类型单个对象保存起来的安全容器 |

### base64

| 模块     | 说明                                |
| -------- | ----------------------------------- |
| base64.h | base64 编码与解码（以库的形式提供） |

### function

| 模块            | 说明                       |
| --------------- | -------------------------- |
| defer.h         | 一个延迟执行的闭包函数对象 |
| weak_callback.h | 类的成员函数的弱回调       |

### md5

| 模块  | 说明                       |
| ----- | -------------------------- |
| md5.h | md5 加密（以库的形式提供） |

### optional

| 模块       | 说明                                           |
| ---------- | ---------------------------------------------- |
| optional.h | 管理一个可选的值，即可以存在也可以不存在的值。 |

### range

| 模块    | 说明                                                          |
| ------- | ------------------------------------------------------------- |
| range.h | 类似于 python 的 range，获取一个范围内的值，用于范围 for 循环 |

### message_bus

| 模块          | 说明       |
| ------------- | ---------- |
| message_bus.h | 消息总线库 |

### singleton

| 模块        | 说明     |
| ----------- | -------- |
| singleton.h | 单例模式 |

### string

| 模块          | 说明                                       |
| ------------- | ------------------------------------------ |
| string_view.h | 字符串视图，只读字符串，提高字符串操作效率 |

### thread

| 模块               | 说明                                   |
| ------------------ | -------------------------------------- |
| count_down_latch.h | 同步工具类，用来协调多个线程之间的同步 |
| blocking_queue.h   | 线程安全的队列                         |
| thread_pool.h      | 线程池                                 |
| thread.h           | 封装的线程，便于使用                   |
| thread_task.h      | 线程任务，用于获取任务返回值           |

### time

对 std::chrono 封装，方便调用

| 模块            | 说明                            |
| --------------- | ------------------------------- |
| elapsed_timer.h | 计时器                          |
| timestamp.h     | 对 std::chrono 的封装，便于使用 |

### variant

| 模块    | 说明         |
| ------- | ------------ |
| variant | 类似于 union |

### utility

| 模块      | 说明                   |
| --------- | ---------------------- |
| utility.h | 功能函数，tuple 的使用 |
| types.h   | 类型转换函数           |
| bind.h    | 模仿 std::bind         |
| coding.h  | 编码转换，gbk <=> utf8 |

## 编译

### MSVC

project 目录下选择对应的版本，可以调整 C++ 的标准。

### 其他

使用 project 目录下的 CMakeLists.txt。

cmake -DCMAKE_BUILD_CXX_STANDARD=c++11 -DCMAKE_BUILD_TYPE=Debug ..

| 编译选项                  |  说明                        |
| ------------------------ | ---------------------------- |
| CMAKE_BUILD_CXX_STANDARD | C++标准, c++11, c++14, c++17 |
| CMAKE_BUILD_TYPE         | Debug or Relase              |

## 优化

1. thread 和 thread_pool 基类
2. thread_pool 提供增加线程的接口

## 待添加

1. 定时器尚未整理
